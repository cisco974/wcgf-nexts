deployment:
  tasks:
    - source /home/cayi7350/nodevenv/test.wcgf.com/22/bin/activate

    # 3ï¸âƒ£ AccÃ¨s au rÃ©pertoire du projet
    - cd /home/cayi7350/test.wcgf.com

    # 4ï¸âƒ£ Nettoyage et mise Ã  jour du code
    - git reset --hard origin/master
    - git pull origin master

    # ğŸ§¹ Nettoyage du cache
    - rm -rf .next

    # 5ï¸âƒ£ VÃ©rification et installation de Next.js et ses dÃ©pendances
    - npm install

    # 9ï¸âƒ£ Build de l'application Next.js
    - npm run build

    # ğŸ“‹ Copie des fichiers nÃ©cessaires
    - cp public/.htaccess build/

    # ğŸ”„ RedÃ©marrage de l'application
    - chmod +x restart.sh
    - ./restart.sh